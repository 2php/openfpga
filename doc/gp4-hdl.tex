\documentclass{article}
\usepackage{times}
\usepackage[hidelinks,bookmarks]{hyperref}
\usepackage{url}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{placeins}

% configuration of source code examples
\usepackage{listings}
\lstset{language=verilog}
\lstset{numbers=left}
\lstset{xleftmargin=2em}
\lstset{framexleftmargin=2em}
\lstset{tabsize=4}
\lstset{frame=single}
\lstset{breaklines=true}
\lstset{showspaces=false}
\lstset{showstringspaces=false}
\lstset{showtabs=false}
\lstset{breakatwhitespace=false}

\setcounter{tocdepth}{2}

\begin{document}

\title{GreenPak4 HDL Place-And-Route User Guide}
\author{Andrew Zonenberg\\
azonenberg@drawersteak.com}
\date{\today}
\maketitle

\begin{abstract}
This document is the primary reference manual for gp4par, Andrew Zonenberg's place-and-route tool for Silego 
GreenPak4 devices. As of this writing, the toolchain is NOT officially supported or endorsed by Silego and not all 
GreenPak4 devices are supported. It is under active development and should be considered alpha quality.
\end{abstract}

\pagebreak

\tableofcontents

\pagebreak
\section{Revision History}
\begin{itemize}
\item \today: [in progress] Initial draft
\end{itemize}

\pagebreak
\section{Introduction}

\subsection{Architecture Support}
This guide will eventually apply to all Silego GreenPak4 devices. As of this writing the toolchain is still under early
development and only the SLG46620V is supported.

\subsection{Coding Examples}
The coding examples in this guide are accurate as of the date of publication. The most up-to-date version of this 
document, as well as source code for the place-and-route tool, may be found on GitHub at 
\url{https://github.com/azonenberg/openfpga/}.

\subsection{Syntax Examples}
The syntax examples in this guide show how to use constraints and options. The examples are comprehensive; only the 
described syntax for a particular constraint or option is guaranteed to work.

\subsection{Acronyms}

\begin{tabularx}{4in}{|l|X|}
\hline
{\bfseries Acronym} & {\bfseries Meaning} \\
\hline
HDL & Hardware Description Language \\
\hline
IOB & Input/Output Buffer \\
\hline
PAR & Place And Route \\
\hline
RTL & Register Transfer Level \\
\hline
\end{tabularx}

\pagebreak
\section{Synthesizing a Netlist}

\subsection{Design Flow}

gp4par is NOT a synthesis tool and cannot be run directly on HDL source code. Your HDL must be synthesized to
a JSON netlist by a separate tool before gp4par may be invoked. The recommended synthesis tool is 
\emph{yosys}, which may be obtained from the Yosys website (\url{http://www.clifford.at/yosys/}). The flow of data 
between components is shown in Figure. \ref{flow}.

\begin{figure}[h]
\centering
\includegraphics[scale=1]{figures/flow.pdf}
\caption{Data flow between toolchain components}
\label{flow}
\end{figure}

\subsection{Synthesis Example}

A simple synthesis script for \emph{yosys} is shown in figure \ref{yscript}. The script synthesizes a single Verilog 
source file \texttt{Blinky.v}, with a top-level module \texttt{BlinkyTop}, to the netlist \texttt{Blinky.json} and 
targets the SLG46620V. This script is only a starting point and may be customized as needed. This document does not
cover synthesis commands; please see the online documentation for \emph{yosys} for command documentation.
\begin{figure}[h]
\begin{lstlisting}[language=sh]
#!/usr/bin/env yosys
read_verilog Blinky.v
synth_greenpak4 -top BlinkyTop -part SLG46620V
splitnets
write_json /tmp/Blinky.json
\end{lstlisting}
\caption{Example synthesis script}
\label{yscript}
\end{figure}

TODO: Include coding examples for inferring various hard IP once this is added to Yosys?
Or does this belong in the Yosys docs?

\pagebreak
\section{gp4par Limitations}

The following legal Verilog-2001 features are not supported by gp4par as of this writing:

\begin{itemize}
\item {\bfseries Bidirectional or tri-state top-level module ports}\\All ports on top-level modules must be input or 
push-pull outputs. There is no support for tri-state or bidirectional outputs.
\item {\bfseries Non-scalar top-level module ports}\\All ports on top-level modules must be one bit wide. Vector nets 
may be used at lower levels of the hierarchy without restriction as long as the synthesis script includes a
``splitnets" command to convert these to single bit nets.
\end{itemize}

The following GreenPak4 device features are not supported by gp4par as of this writing:

\begin{itemize}
\item Storage elements: output inverter, latch mode
\item Counters: Delay, FSM, edge detector, PWM, wake-sleep mode, counter cascading. All clock sources other than LFOSC
\item Inverters
\item ADC
\item DAC
\item ACMP
\item VREF
\item LUT4/CFM
\item Wake-Sleep
\item DCMP/PWM
\item Pipe delay
\item Programmble delay line
\item RC OSC
\item Ring osc
\item Slave SPI
\end{itemize}

\pagebreak
\section{gp4par HDL Constraints}

There is only one supported constraint entry format at this time, Verilog attributes. There is currently no support for 
adding constraints to netlist entities via external constraint files or command line arguments. The general format of a 
constraint with name \texttt{FOO} and value 42 applied to the register \texttt{foobar} is shown in Figure 
\ref{constraint}.

\begin{figure}[h]
\begin{lstlisting}
(* FOO=42 *)
reg[3:0] foobar = 0;
\end{lstlisting}
\caption{Example Verilog attribute constraint}
\label{constraint}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LOC

\pagebreak
\subsection{Physical Location (LOC)}

The LOC constraint instructs gp4par to place the constrained net or primitive at a specific physical site of the 
device.

\subsubsection{Applicable Elements}
As of this writing, the LOC constraint may only be used on top-level module ports. 

\subsubsection{Constraint Values}
\begin{itemize}
\item {\bfseries Top-level module port}\\
Text string ``Pn" where \texttt{n} is the pin number of the device. Example: ``P3", ``P17".
\item {\bfseries Other} \\
This constraint may not be used on any other entity. Future versions of gp4par may allow use of this constraint 
to lock LUTs, flipflops, and hard IP to specific locations.
\end{itemize}

\subsubsection{Verilog Usage Example}

Figure \ref{constraint-loc} is an example of a top-level module with three ports \texttt{a}, \texttt{b}, and \texttt{o}.
These ports are constrained to package pins 20, 19, and 18 respectively.

\begin{figure}[h]
\begin{lstlisting}
module Foo(a, b, o);

	(* LOC = "P20" *)
	input wire a;

	(* LOC = "P19" *)
	input wire b;

	(* LOC = "P18" *)
	output wire o;
	
endmodule
\end{lstlisting}
\caption{Example for LOC constraint}
\label{constraint-loc}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Pulldown

\pagebreak
\subsection{Pull-Down Resistor (PULLDOWN)}

The PULLDOWN constraint instructs gp4par to enable the pull-down resistor on the specified input. The exact resistor 
value ranges may be found in the device datasheet.

\subsubsection{Applicable Elements}
The PULLDOWN constraint may only be used on top-level module ports. 

\subsubsection{Constraint Values}
\begin{itemize}
\item {\bfseries Top-level module port (IOB)}\\
Text string ``10k", ``100k", or ``1M", case sensitive, to specify the nominal value of the pull-down resistor.
\item {\bfseries Other} \\
This constraint may not be used on any other entity.
\end{itemize}

\subsubsection{Verilog Usage Example}

Figure \ref{constraint-pulldown} is an example of a top-level module with three ports \texttt{a}, \texttt{b}, and
\texttt{o}. Ports \texttt{a} and \texttt{b} have 10k$\Omega$ pull-down resistors; port \texttt{o} is floating.

\begin{figure}[h]
\begin{lstlisting}
module Foo(a, b, o);

	(* PULLDOWN = "10k" *)
	input wire a;

	(* PULLDOWN = "10k" *)
	input wire b;

	input wire o;
	
endmodule
\end{lstlisting}
\caption{Example for PULLDOWN constraint}
\label{constraint-pulldown}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Pullup

\pagebreak
\subsection{Pull-Up Resistor (PULLUP)}

The PULLUP constraint instructs gp4par to enable the pull-up resistor on the specified input. The exact resistor 
value ranges may be found in the device datasheet.

\subsubsection{Applicable Elements}
The PULLUP constraint may only be used on top-level module ports. 

\subsubsection{Constraint Values}
\begin{itemize}
\item {\bfseries Top-level module port (IOB)}\\
Text string ``10k", ``100k", or ``1M", case sensitive, to specify the nominal value of the pull-up resistor.
\item {\bfseries Other} \\
This constraint may not be used on any other entity.
\end{itemize}

\subsubsection{Verilog Usage Example}

Figure \ref{constraint-pullup} is an example of a top-level module with three ports \texttt{a}, \texttt{b}, and
\texttt{o}. Ports \texttt{a} and \texttt{b} have 10k$\Omega$ pull-up resistors; port \texttt{o} is floating.

\begin{figure}[h]
\begin{lstlisting}
module Foo(a, b, o);

	(* PULLUP = "10k" *)
	input wire a;

	(* PULLUP = "10k" *)
	input wire b;

	input wire o;
	
endmodule
\end{lstlisting}
\caption{Example for PULLUP constraint}
\label{constraint-pullup}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Schmitt Trigger

\pagebreak
\subsection{Schmitt Trigger (SCHMITT\_TRIGGER)}

The SCHMITT\_TRIGGER constraint instructs gp4par to enable the Schmitt trigger on the specified input. The level 
of hysterisis provided may be found in the device datasheet.

\subsubsection{Applicable Elements}
The SCHMITT\_TRIGGER constraint may only be used on top-level module ports configured in bidirectional or input mode. 

\subsubsection{Constraint Values}
\begin{itemize}
\item {\bfseries Top-level module port (IOB)}\\
Any nonzero value, or no value, to enable the Schmitt trigger. Specify zero, or no constraint, to disable it.
\item {\bfseries Other} \\
This constraint may not be used on any other entity.
\end{itemize}

\subsubsection{Verilog Usage Example}

Figure \ref{constraint-schmitt} is an example of a top-level module with three ports \texttt{a}, \texttt{b}, and
\texttt{o}. The Schmitt trigger is enabled for ports  \texttt{a} and \texttt{b}, but not \texttt{o}.

\begin{figure}[h]
\begin{lstlisting}
module Foo(a, b, o);

	(* SCHMITT_TRIGGER = 1 *)
	input wire a;

	(* SCHMITT_TRIGGER *)
	input wire b;

	(* SCHMITT_TRIGGER = 0 *)
	input wire o;
	
endmodule
\end{lstlisting}
\caption{Example for SCHMITT\_TRIGGER constraint}
\label{constraint-schmitt}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Timing constraints

\pagebreak
\section{gp4par Timing Constraints}

Static timing analysis is not yet implemented, thus this section is currently blank.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Primitives

\pagebreak
\section{gp4par Verilog Primitives}

When possible, we recommend inferring design elements to maximize design portability. In some cases, such as for hard 
IP blocks or when exact control over synthesis results is required, it may be necessary to manually instantiate device 
primitives. Pay careful attention to port names and descriptions as these may not exactly match the Silego primitives.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_2LUT

\pagebreak
\subsection{GP\_2LUT: 2-Input Lookup Table}

\subsubsection{Introduction}
This primitive corresponds to a single 2-input lookup table. It can implement any combinatorial function of two 
inputs and one output.

This primitive may be manually instantiated if exact control over LUT packing is required, but for most applications we 
recommend inferring logic.

The LUT output is the \{IN1, IN0\}'th bit of the truth table supplied in the INIT attribute..

\subsubsection{Port Descriptions}

\begin{tabularx}{4in}{|l|l|l|X|}
\hline
{\bfseries Port} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
IN0 & Input & 1 & Least significant input bit \\
\hline
IN1 & Input & 1 & Input bit \\
\hline
OUT & Output & 1 & Lookup table output \\
\hline
\end{tabularx}

\subsubsection{Parameter Descriptions}

\begin{tabularx}{4in}{|l|l|l|X|}
\hline
{\bfseries Attribute} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
INIT & Integer & 4 & LUT truth table \\
\hline
\end{tabularx}

\subsubsection{Verilog Usage Example}

The example shown in figure \ref{gp-lut2-example} sets \emph{o} to the bitwise AND of \emph{a} and \emph{b}.

\begin{figure}[h]
\begin{lstlisting}
wire a;
wire b;
wire o;
GP_LUT2 #(
	.INIT(4'h4)
) lut(
	.IN0(a),
	.IN1(b),
	.OUT(o)
);
\end{lstlisting}
\caption{Example usage of GP\_LUT2}
\label{gp-lut2-example}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_3LUT

\pagebreak
\subsection{GP\_3LUT: 3-Input Lookup Table}

\subsubsection{Introduction}
This primitive corresponds to a single 3-input lookup table. It can implement any combinatorial function of three 
inputs and one output.

This primitive may be manually instantiated if exact control over LUT packing is required, but for most applications we 
recommend inferring logic.

The LUT output is the \{IN2, IN1, IN0\}'th bit of the truth table supplied in the INIT attribute..

\subsubsection{Port Descriptions}

\begin{tabularx}{4in}{|l|l|l|X|}
\hline
{\bfseries Port} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
IN0 & Input & 1 & Least significant input bit \\
\hline
IN1 & Input & 1 & Input bit \\
\hline
IN2 & Input & 1 & Most significant input bit \\
\hline
OUT & Output & 1 & Lookup table output \\
\hline
\end{tabularx}

\subsubsection{Parameter Descriptions}

\begin{tabularx}{4in}{|l|l|l|X|}
\hline
{\bfseries Attribute} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
INIT & Integer & 8 & LUT truth table \\
\hline
\end{tabularx}

\subsubsection{Verilog Usage Example}

The example shown in figure \ref{gp-lut3-example} sets \emph{o} to the bitwise AND of \emph{a}, \emph{b}, and \emph{c}.

\begin{figure}[h]
\begin{lstlisting}
wire a;
wire b;
wire c;
wire o;
GP_LUT3 #(
	.INIT(8'h80)
) lut(
	.IN0(a),
	.IN1(b),
	.IN2(c),
	.OUT(o)
);
\end{lstlisting}
\caption{Example usage of GP\_LUT3}
\label{gp-lut3-example}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_4LUT

\pagebreak
\subsection{GP\_4LUT: 4-Input Lookup Table}

\subsubsection{Introduction}
This primitive corresponds to a single 4-input lookup table. It can implement any combinatorial function of four 
inputs and one output.

This primitive may be manually instantiated if exact control over LUT packing is required, but for most applications we 
recommend inferring logic.

The LUT output is the \{IN3, IN2, IN1, IN0\}'th bit of the truth table supplied in the INIT attribute..

\subsubsection{Port Descriptions}

\begin{tabularx}{4in}{|l|l|l|X|}
\hline
{\bfseries Port} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
IN0 & Input & 1 & Least significant input bit \\
\hline
IN1 & Input & 1 & Input bit \\
\hline
IN2 & Input & 1 & Input bit \\
\hline
IN3 & Input & 1 & Most significant input bit \\
\hline
OUT & Output & 1 & Lookup table output \\
\hline
\end{tabularx}

\subsubsection{Parameter Descriptions}

\begin{tabularx}{4in}{|l|l|l|X|}
\hline
{\bfseries Attribute} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
INIT & Integer & 16 & LUT truth table \\
\hline
\end{tabularx}

\subsubsection{Verilog Usage Example}

The example shown in figure \ref{gp-lut4-example} sets \emph{o} to the bitwise AND of \emph{a}, \emph{b}, \emph{c},
and \emph{d}

\begin{figure}[h]
\begin{lstlisting}
wire a;
wire b;
wire c;
wire d;
wire o;
GP_LUT3 #(
	.INIT(16'h8000)
) lut(
	.IN0(a),
	.IN1(b),
	.IN2(c),
	.IN3(d)
	.OUT(o)
);
\end{lstlisting}
\caption{Example usage of GP\_LUT4}
\label{gp-lut4-example}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_COUNT8

\pagebreak
\subsection{GP\_COUNT8: 8-Bit Resettable Down Counter}

\subsubsection{Introduction}
This primitive represents an 8-bit down counter.

Note that this primitive does \emph{not} always map to a hard IP block with \emph{exactly} 8 bit depth. The technology 
mapper may map GP\_COUNT8 cells to unused 14-bit counters in order to relieve routing pressure. In this case, the high 
6 bits of the counter will always be zero.

\subsubsection{Port Descriptions}

\begin{tabularx}{5in}{|l|l|l|X|}
\hline
{\bfseries Port} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
CLK & Input & 1 & The input clock signal\\
\hline
RST & Input & 1 & Reset input (polarity depends on RESET\_MODE). When triggered, resets the count register to zero. \\
\hline
OUT & Output & 1 & Counter underflow output. High whenever the count register equals zero. \\
\hline
\end{tabularx}

\subsubsection{Parameter Descriptions}

\begin{tabularx}{5in}{|l|l|l|X|}
\hline
{\bfseries Attribute} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
CLKIN\_DIVIDE & Integer & 8 &
	Input clock divider. Legal values depend on what source CLK is driven by, see device datasheet.\\
\hline
COUNT\_TO & Integer & 8 & Value to set the counter to on underflow. \\
\hline
RESET\_MODE & String &  & 
	{\bfseries RISING: } \newline Resets the counter on a rising edge of RST. \newline
	{\bfseries FALLING: } \newline Resets the counter on a falling edge of RST. \newline
	{\bfseries BOTH: } \newline Resets the counter on any edge of RST. \newline
	{\bfseries LEVEL: } \newline Resets the counter when RST is high. \\
\hline
\end{tabularx}

\subsubsection{Verilog Usage Example}

The example shown in figure \ref{gp-count8-example} needs to be written!

\begin{figure}[h]
\begin{lstlisting}
x
\end{lstlisting}
\caption{Example usage of GP\_COUNT8}
\label{gp-count8-example}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_COUNT14

\pagebreak
\subsection{GP\_COUNT14: 14-Bit Resettable Down Counter}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_DFF

\pagebreak
\subsection{GP\_DFF: Positive Edge Triggered D Flipflop}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_DFFR

\pagebreak
\subsection{GP\_DFFR: Positive Edge Triggered D Flipflop with Reset}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_DFFS

\pagebreak
\subsection{GP\_DFFS: Positive Edge Triggered D Flipflop with Set}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_DFFSR

\pagebreak
\subsection{GP\_DFFSR: Positive Edge Triggered D Flipflop with Set/Reset}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP_LFOSC

\pagebreak
\subsection{GP\_LFOSC: Low Frequency Oscillator}

\subsubsection{Introduction}
This primitive represents the low-frequency (1730 Hz) oscillator block.

Note that all of the oscillator blocks in GreenPak4 internally share the PWRDN input. As a result, all oscillator 
blocks in the design that have PWRDN\_EN set to 1 must have PWRDN connected to the same source. Failure to follow this 
rule will result in a physical DRC failure.

\subsubsection{Port Descriptions}

\begin{tabularx}{5in}{|l|l|l|X|}
\hline
{\bfseries Port} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
PWRDN & Input & 1 &
	{\bfseries PWRDN\_EN = 1:} \newline Bring this signal high to power down the oscillator. \newline
	{\bfseries PWRDN\_EN = 0:} \newline Ignored, tie to 1'b0\\
\hline
CLKOUT & Output & 1 & 1730 Hz (nominal) clock signal \\
\hline
\end{tabularx}

\subsubsection{Parameter Descriptions}

\begin{tabularx}{5in}{|l|l|l|X|}
\hline
{\bfseries Attribute} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
AUTO\_PWRDN & Boolean & 1 & 
	{\bfseries When 1: } \newline Automatically power down the oscillator when all loads are powered down. \newline
	{\bfseries When 0: } \newline Automatic power-down is disabled. The PWRDN\_EN and PWRDN inputs are unaffected.\\
\hline
OUT\_DIV & Integer & 8 &
	Output divider. Legal values: \newline
	{\bfseries 1:} 1730 Hz output \newline
	{\bfseries 2:} 865 Hz output \newline
	{\bfseries 4:} 432 Hz output \newline
	{\bfseries 16:} 108 Hz output
\\
\hline
PWRDN\_EN & Boolean & 1 & Set to 1 to enable the PWRDN pin, or 0 to disable. \\
\hline
\end{tabularx}

\subsubsection{Verilog Usage Example}

The example shown in figure \ref{gp-lfosc-example} drives a 108 Hz clock onto clk\_108hz. All power management features 
are disabled.

\begin{figure}[h]
\begin{lstlisting}
wire clk_108hz;
GP_LFOSC #(
	.PWRDN_EN(0),
	.AUTO_PWRDN(0),
	.OUT_DIV(16)
) lfosc (
	.PWRDN(1'b0),
	.CLKOUT(clk_108hz)
);
\end{lstlisting}
\caption{Example usage of GP\_LFOSC}
\label{gp-lfosc-example}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP4_VDD

\FloatBarrier
\pagebreak
\subsection{GP\_VDD: Power Connection}

\subsubsection{Introduction}
This design element is internally used by gp4par as the source for all nets tied to a constant ``1" value. It does not 
correspond to a hard IP block in the device.

It is documented here for completeness but should never be instantiated. If a constant ``1" value is needed in a 
design, simply use the value 1'b1.

\subsubsection{Port Descriptions}

\begin{tabularx}{4in}{|l|l|l|X|}
\hline
{\bfseries Port} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
OUT & Output & 1 & Constant value ``1" \\
\hline
\end{tabularx}

\subsubsection{Parameter Descriptions}

None.

\subsubsection{Verilog Usage Example}

The example shown in figure \ref{gp-vdd-example} ties the signal ``foo" high.

\begin{figure}[h]
\begin{lstlisting}
wire foo;
GP_VDD vdd(
	.OUT(foo)
);
\end{lstlisting}
\caption{Example usage of GP\_VDD}
\label{gp-vdd-example}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GP4_VSS

\pagebreak
\subsection{GP\_VSS: Ground Connection}

\subsubsection{Introduction}
This design element is internally used by gp4par as the source for all nets tied to a constant ``0" value. It does not 
correspond to a hard IP block in the device.

It is documented here for completeness but should never be instantiated. If a constant ``0" value is needed in a 
design, simply use the value 1'b0.

\subsubsection{Port Descriptions}

\begin{tabularx}{4in}{|l|l|l|X|}
\hline
{\bfseries Port} & {\bfseries Type} & {\bfseries Width} & {\bfseries Function} \\
\hline
OUT & Output & 1 & Constant value ``0" \\
\hline
\end{tabularx}

\subsubsection{Parameter Descriptions}

None.

\subsubsection{Verilog Usage Example}

The example shown in figure \ref{gp-vss-example} ties the signal ``foo" low.

\begin{figure}[h]
\begin{lstlisting}
wire foo;
GP_VSS vss(
	.OUT(foo)
);
\end{lstlisting}
\caption{Example usage of GP\_VSS}
\label{gp-vss-example}
\end{figure}

\pagebreak
\section{gp4par Command Line Arguments}

\end{document}
